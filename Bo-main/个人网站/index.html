<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>小博与她</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- 雪花和爱心容器 -->
    <div id="snow-container"></div>
    <div id="hearts-container"></div>
    
    <header>
        <img class="avatar" src="./图片.ico" alt="头像">
        <h1>小博与她</h1>
    </header>
    
    <!-- 音频设置为静音自动播放，用户交互后可取消静音 -->
    <audio id="background-music" src="./bgm.mp3" autoplay loop muted></audio>
    <button id="audio-toggle">开启音频</button>
    
    <main>
        <div class="podcast-grid">
            <div class="podcast-item">
                <h2>烟花</h2>
                <p>点击按钮播放烟花</p>
                <a href="./烟花/index.html" class="podcast-button" onclick="stopMusic()">点击收听</a>
            </div>
            <div class="podcast-item">
                <h2>表白</h2>
                <p>点击按钮开始表白哟</p>
                <a href="./表白/index.html" class="podcast-button" onclick="stopMusic()">点击收听</a>
            </div>
            <div class="podcast-item">
                <h2>羊了个羊</h2>
                <p>点击按钮可以玩羊了个羊</p>
                <a href="./羊了个羊/index.html" class="podcast-button" onclick="stopMusic()">点击收听</a>
            </div>
            <div class="podcast-item">
                <h2>过桥</h2>
                <p>点击按钮可以玩过桥</p>
                <a href="./过桥/index.html" class="podcast-button" onclick="stopMusic()">点击收听</a>
            </div>
            <div class="podcast-item">
                <h2>小狮子</h2>
                <p>点击按钮出现小狮子</p>
                <a href="./小狮子/index.html" class="podcast-button" onclick="stopMusic()">点击收听</a>
            </div>
            <div class="podcast-item">
                <h2>盖楼</h2>
                <p>点击按钮出现盖楼小游戏</p>
                <a href="./盖楼层/index.html" class="podcast-button" onclick="stopMusic()">点击收听</a>
            </div>
        </div>
        
        <!-- 公众号图片 -->
        <div class="qrcode-container">
            <img src="./公众号.jpg" alt="公众号图片" class="qrcode-img">
        </div>
    </main>
    
    <script>
        // 处理音频播放
        const backgroundMusic = document.getElementById('background-music');
        const audioToggle = document.getElementById('audio-toggle');
        
        // 尝试自动播放（静音状态）
        function tryPlayAudio() {
            backgroundMusic.play().catch(e => {
                console.log('自动播放需要用户交互:', e);
            });
        }
        
        // 页面加载完成后尝试播放
        window.addEventListener('load', tryPlayAudio);
        
        // 监听任何用户交互，一旦有交互就可以取消静音
        document.addEventListener('click', enableAudio, { once: true });
        document.addEventListener('touchstart', enableAudio, { once: true });
        
        function enableAudio() {
            if (backgroundMusic.paused) {
                backgroundMusic.muted = false;
                backgroundMusic.play();
                audioToggle.textContent = '关闭音频';
            }
        }
        
        // 音频开关按钮
        audioToggle.addEventListener('click', function () {
            if (backgroundMusic.paused) {
                backgroundMusic.muted = false;
                backgroundMusic.play();
                audioToggle.textContent = '关闭音频';
            } else {
                backgroundMusic.pause();
                audioToggle.textContent = '开启音频';
            }
        });
        
        // 停止音乐函数
        function stopMusic() {
            backgroundMusic.pause();
            audioToggle.textContent = '开启音频';
        }
        
        // 创建雪花效果
        function createSnowflakes() {
            const container = document.getElementById('snow-container');
            const count = 50;
            
            for (let i = 0; i < count; i++) {
                let snowflake = document.createElement('div');
                snowflake.className = 'snowflake';
                
                // 随机大小
                const size = Math.random() * 5 + 2;
                snowflake.style.width = `${size}px`;
                snowflake.style.height = `${size}px`;
                
                // 随机位置
                snowflake.style.left = `${Math.random() * 100}vw`;
                snowflake.style.top = `-${Math.random() * 50}px`;
                
                // 随机动画时长
                const duration = Math.random() * 10 + 5;
                snowflake.style.animationDuration = `${duration}s`;
                
                // 随机延迟
                snowflake.style.animationDelay = `${Math.random() * 10}s`;
                
                container.appendChild(snowflake);
                
                // 动画结束后移除
                setTimeout(() => {
                    snowflake.remove();
                }, (duration + 10) * 1000);
            }
        }
        
        // 创建爱心效果
        function createHeart() {
            const container = document.getElementById('hearts-container');
            const heart = document.createElement('div');
            heart.className = 'heart';
            
            // 随机大小
            const size = Math.random() * 20 + 10;
            heart.style.width = `${size}px`;
            heart.style.height = `${size}px`;
            
            // 随机位置
            heart.style.left = `${Math.random() * 100}vw`;
            
            // 随机动画时长
            const duration = Math.random() * 4 + 3;
            heart.style.animationDuration = `${duration}s`;
            
            container.appendChild(heart);
            
            // 动画结束后移除
            setTimeout(() => {
                heart.remove();
            }, duration * 1000);
        }
        
        // 初始化效果
        createSnowflakes();
        setInterval(createHeart, 1000);
        setInterval(createSnowflakes, 5000);
    </script>
</body>

</html>

    


